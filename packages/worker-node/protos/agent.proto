syntax = "proto3";

package dest;

service Agent {
  rpc DeleteAgent (SecretRequest) returns (TokenResponse) {}
  rpc GetAgent (SecretRequest) returns (TokenResponse) {}
  rpc PostAgent (SecretRequest) returns (TokenResponse) {}
}

// Base

enum BaseType {
  DEFAULT_TYPE = 0;
  SQLITE = 2049;
  MARIADB = 3306;
  MYSQL8 = 3307;
}

message BaseRequest {
  BaseType type = 1;
  string name = 2;
}

message BaseResponse {
  bool success = 1;
}

// Secret

message SecretRequest {
  string secret = 1;
}

// Token

message TokenResponse {
  bool success = 1;
  string token = 2;
}